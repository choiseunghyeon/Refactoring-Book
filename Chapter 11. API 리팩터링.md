## TIP

- 좋은 API는 데이터를 갱신하는 함수와 조회하는 함수를 명확히 구분한다. (명령 - 질의 분리 Command And Query)

- 질의 함수와 변경 함수 분리하기
  - 모듈과 함수는 소프트웨어를 구성하는 빌딩 블록이며, API는 이 블록들을 끼워 맞추는 연결부다.
- 함수 매개변수화하기

  - 함수의 로직이 비슷하고 단지 리터럴 값만 다르다면 다른 값만 매개변수로 받아 처리
  - Open–closed principle

- 플래그 인수 제거하기
  - 매개변수가 함수의 동작 모드를 전환하는 용도로만 쓰일 때
  - 플래그 인수가 불리언이라면 더욱 이해하기 어렵다.
- 객체 통째로 넘기기
  - 데이터 구조가 함수 사이를 건너 다니면서 필요 이상으로 분해될 때
  - 함수가 레코드 자체에 의존하기를 원하지 않을 때는 수행하지 않는다.

## 무언가를 매개변수로 건네 피호출 함수가 판단할지 아니면 호출 함수가 정할지에 관해서는 답이 없기 때문에 균형점을 잡는다.

- 매개변수를 질의 함수로 바꾸기
- 질의 함수를 매개변수로 바꾸기

- 세터 제거하기
  - 불변 유지
- 생성자를 팩터리 함수로 바꾸기
  - 새로운 객체를 만들어 반환할 때 일반적인 생성자의 능력만으로 부족할 때

## 수많은 데이터를 받는 복잡한 함수를 잘게 쪼갠다.

- 함수를 명령으로 바꾸기
- 명령을 함수로 바꾸기

- 수정된 값 반환하기
  - 함수 안에서 데이터가 수정됐음을 확실히 알기 위해
- 오류 코드를 예외로 바꾸기
- 예외를 사전 확인으로 바꾸기
